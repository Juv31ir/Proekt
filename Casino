import random
import time
from time import sleep

player_victory = 0
computer_victory = 0
n = 1
detect = {'6': 6, '7': 7, '8': 8, '9': 9, '10': 10, 'J': 2, 'Q': 3, 'K': 4}
print("–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –í–∞—Å –≤ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –ö–∞–∑–∏–Ω–æ!\n")

while True:
    print("1. –ò–≥—Ä–∞—Ç—å –≤ 21")
    print("2. –ò–≥—Ä–∞—Ç—å –≤ —Ä—É–ª–µ—Ç–∫—É")
    print("3. –ò–≥—Ä–∞—Ç—å –≤ –û–¥–Ω–æ—Ä—É–∫–æ–≥–æ –ë–∞–Ω–¥–∏—Ç–∞")
    print("4. –ò–≥—Ä–∞—Ç—å –≤ –ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏ –Ω–∞ –¥–≤–æ–∏—Ö")
    print("5. –ò–≥—Ä–∞—Ç—å –≤ –ö–∞–º–µ–Ω—å-–ù–æ–∂–Ω–∏—Ü—ã-–ë—É–º–∞–≥–∞ –Ω–∞ –¥–≤–æ–∏—Ö")
    print("6. –í—ã—Ö–æ–¥")
    ch = input("–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç: ")

    if ch == "1":
        while True:
            vibor1 = input('–ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É? (y/n) > ')
            if vibor1 == 'n' or vibor1 == 'N':
                break
            elif vibor1 == 'y' or vibor1 == 'Y':
                print(f'–†–∞—É–Ω–¥ {n}-–π\n')

            player_cards = []
            player_sum = 0

            computer_cards = []
            computer_sum = 0

            cards = [(mast, numb) for mast in range(4) for numb in ['6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A']]
            random.shuffle(cards)

            player_cards.append(cards.pop())
            player_cards.append(cards.pop())
            for mast, numb in player_cards:
                if numb == 'A':
                    if player_sum + 11 > 21:
                        player_sum += 1
                    else:
                        player_sum += 11
                else:
                    player_sum += detect[numb]

            computer_cards.append(cards.pop())
            computer_cards.append(cards.pop())
            for mast, numb in computer_cards:
                if numb == 'A':
                    if computer_sum + 11 > 21:
                        computer_sum += 1
                    else:
                        computer_sum += 11
                else:
                    computer_sum += detect[numb]

            while True:
                print('–í–∞—à–∏ –∫–∞—Ä—Ç—ã: ', end='')
                for mast, numb in player_cards:
                    print(numb, ['—á–µ—Ä–≤—ã', '–±—É–±–Ω—ã', '—Ç—Ä–µ—Ñ—ã', '–ø–∏–∫–∏'][mast], end='; ')

                print(f'\n–°—É–º–º–∞ –æ—á–∫–æ–≤: {player_sum}')

                if player_sum > 21:
                    sleep(2)
                    break

                cmd = input('–í–∑—è—Ç—å –µ—â–µ –æ–¥–Ω—É –∫–∞—Ä—Ç—É? (y/n) > ')
                if cmd == 'n' or cmd == 'N':
                    break
                elif cmd == 'y' or cmd == 'Y':
                    card = cards.pop()
                    numb = card[1]
                    player_cards.append(card)

                    if numb == 'A':
                        if player_sum + 11 > 21:
                            player_sum += 1
                        else:
                            player_sum += 11
                    else:
                        player_sum += detect[numb]

                print()

            while True:
                if computer_sum + 5 <= 21:
                    card = cards.pop()
                    numb = card[1]
                    computer_cards.append(card)

                    if numb == 'A':
                        if computer_sum + 11 > 21:
                            computer_sum += 1
                        else:
                            computer_sum += 11
                    else:
                        computer_sum += detect[numb]
                else:
                    break

            print('\n–ö–∞—Ä—Ç—ã –∫–æ–º–ø—å—é—Ç–µ—Ä–∞: ', end='')
            for mast, numb in computer_cards:
                print(numb, ['—á–µ—Ä–≤—ã', '–±—É–±–Ω—ã', '—Ç—Ä–µ—Ñ—ã', '–ø–∏–∫–∏'][mast], end='; ')

            print(f'\n–°—É–º–º–∞ –æ—á–∫–æ–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞: {computer_sum}')

            if (player_sum == computer_sum) or (computer_sum > 21 and player_sum > 21):
                print('\n–ù–∏—á—å—è\n')
                n += 1
                sleep(5)
            elif player_sum > 21 or (player_sum < computer_sum and computer_sum < 22):
                print('\n–í —ç—Ç–æ–º —Ä–∞—É–Ω–¥–µ –ø–æ–±–µ–¥–∏–ª –∫–æ–º–ø—å—é—Ç–µ—Ä\n')
                computer_victory += 1
                n += 1
                sleep(5)
            else:
                print('\n–í —ç—Ç–æ–º —Ä–∞—É–Ω–¥–µ –ø–æ–±–µ–¥–∏–ª —á–µ–ª–æ–≤–µ–∫\n')
                player_victory += 1
                n += 1
                sleep(5)

            if player_victory == 5:
                print('\n–ü–æ–±–µ–¥–∏—Ç–µ–ª—å: —á–µ–ª–æ–≤–µ–∫!')
                break

            if computer_victory == 5:
                print('\n–ü–æ–±–µ–¥–∏—Ç–µ–ª—å: –∫–æ–º–ø—å—é—Ç–µ—Ä!')
                break
    elif ch == "2":
        while True:
            vibor2 = input('–ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É? (y/n) > ')
            if vibor2 == 'n' or vibor2 == 'N':
                break
            elif vibor2 == 'y' or vibor2 == 'Y':
                from random import randint

            class Rul:

                def __init__(self):
                    self.reds = (1, 3, 5, 7, 9, 12, 14, 16, 18, 21, 23, 25, 27, 30, 32, 34, 36)
                    self.blacks = (2, 4, 6, 8, 10, 11, 13, 15, 17, 19, 20, 22, 24, 26, 28, 29, 31, 33, 35)

                def roll(self):
                    num = randint(0, 36)

                    isdigit = False
                    player = input('–°—Ç–∞–≤–∏–º –Ω–∞ –ö—Ä–∞—Å–Ω–æ–µ –∏–ª–∏ –ß–µ—Ä–Ω–æ–µ? (red/black)')
                    if player.isdigit():
                        player = int(player)
                        isdigit = True
                    elif player not in ['red', 'black']:
                        return None

                    red = False
                    black = False

                    if num == 0:
                        print('–ó–µ—Ä–æ')
                    elif num in self.reds:
                        print(num, '–ö—Ä–∞—Å–Ω–æ–µ')
                        red = True
                    elif num in self.blacks:
                        print(num, '–ß–µ—Ä–Ω–æ–µ')
                        black = True

                    if isdigit:
                        if num == player:
                            return '–í —ç—Ç–æ–º —Ä–∞—É–Ω–¥–µ –ø–æ–±–µ–¥–∏–ª —á–µ–ª–æ–≤–µ–∫'
                        return '–í —ç—Ç–æ–º —Ä–∞—É–Ω–¥–µ –ø–æ–±–µ–¥–∏–ª –∫–æ–º–ø—å—é—Ç–µ—Ä'
                    else:
                        if player == 'red' and red:
                            return '–í —ç—Ç–æ–º —Ä–∞—É–Ω–¥–µ –ø–æ–±–µ–¥–∏–ª —á–µ–ª–æ–≤–µ–∫'
                        elif player == 'black' and black:
                            return '–í —ç—Ç–æ–º —Ä–∞—É–Ω–¥–µ –ø–æ–±–µ–¥–∏–ª —á–µ–ª–æ–≤–µ–∫'
                        return '–í —ç—Ç–æ–º —Ä–∞—É–Ω–¥–µ –ø–æ–±–µ–¥–∏–ª –∫–æ–º–ø—å—é—Ç–µ—Ä'

            r = Rul()
            print(r.roll())
    elif ch == "3":
        while True:
            vibor3 = input('–ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É? (y/n) > ')
            if vibor3 == 'n' or vibor3 == 'N':
                break
            elif vibor3 == 'y' or vibor3 == 'Y':
                s1 = random.SystemRandom().choice(['üçí', 'üçå', 'üí≤', '7', 'üîî'])
                s2 = random.SystemRandom().choice(['üçí', 'üçå', 'üí≤', '7', 'üîî'])
                s3 = random.SystemRandom().choice(['üçí', 'üçå', 'üí≤', '7', 'üîî'])

                print ('| - ' + s1 + ' - | - ' + s2 + ' - | - ' + s3 + ' - |')
                time.sleep(2)
                if s1 == s2 or s2 == s3:
                    print ('–í—ã –ø–æ–±–µ–¥–∏–ª–∏!')
                elif s1 == s2 == s3:
                    print ('–í—ã —Å–æ—Ä–≤–∞–ª–∏ –î–∂–µ–∫–ø–æ—Ç!')
                else:
                    print ('–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏!')
    elif ch == "4":
        while True:
            vibor4 = input('–ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É? (y/n) > ')
            if vibor4 == 'n' or vibor4 == 'N':
                break
            elif vibor4 == 'y' or vibor4 == 'Y':

                board = list(range(1, 10))

                def draw_board(board):
                    print("-" * 13)
                    for i in range(3):
                        print("|", board[0 + i * 3], "|", board[1 + i * 3], "|", board[2 + i * 3], "|")
                        print("-" * 13)

                def take_input(pl_ch):
                    valid = False
                    while not valid:
                        pl_ans = input("–ö—É–¥–∞ –ø–æ—Å—Ç–∞–≤–∏–º " + pl_ch + "? ")
                        try:
                            pl_ans = int(pl_ans)
                        except:
                            print("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥. –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –≤–≤–µ–ª–∏ —á–∏—Å–ª–æ?")
                            continue
                        if pl_ans >= 1 and pl_ans <= 9:
                            if (str(board[pl_ans - 1]) not in "XO"):
                                board[pl_ans - 1] = pl_ch
                                valid = True
                            else:
                                print("–ö–ª–µ—Ç–∫–∞ –∑–∞–Ω—è—Ç–∞!")
                        else:
                            print("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 9.")

                def check_win(board):
                    win_coord = ((0, 1, 2), (3, 4, 5), (6, 7, 8), (0, 3, 6), (1, 4, 7), (2, 5, 8), (0, 4, 8), (2, 4, 6))
                    for each in win_coord:
                        if board[each[0]] == board[each[1]] == board[each[2]]:
                            return board[each[0]]
                    return False


                def main(board):
                    counter = 0
                    win = False
                    while not win:
                        draw_board(board)
                        if counter % 2 == 0:
                            take_input("X")
                        else:
                            take_input("O")
                        counter += 1
                        if counter > 4:
                            tmp = check_win(board)
                            if tmp:
                                print(tmp, "–≤—ã–∏–≥—Ä–∞–ª!")
                                break
                        if counter == 9:
                            print("–ù–∏—á—å—è!")
                            break
                    draw_board(board)

                main(board)
    elif ch == "5":
        while True:
            vibor4 = input('–ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É? (y/n) > ')
            if vibor4 == 'n' or vibor4 == 'N':
                break
            elif vibor4 == 'y' or vibor4 == 'Y':

                    p1 = input("–ò–≥—Ä–æ–∫ 1. –ö–∞–º–µ–Ω—å (1), –ù–æ–∂–Ω–∏—Ü—ã (2), –ë—É–º–∞–≥–∞ (3) ?\n")
                    p1 = p1.lower()

                    print()

                    p2 = input("–ò–≥—Ä–æ–∫ 2. –ö–∞–º–µ–Ω—å (1), –ù–æ–∂–Ω–∏—Ü—ã (2), –ë—É–º–∞–≥–∞ (3) ?\n")
                    p2 = p2.lower()

                    print()

                    if (p1 == "1"):
                        if (p2 == "1"):
                            print("–ù–∏—á—å—è!")
                        elif (p2 == "3"):
                            print("–ò–≥—Ä–æ–∫ 2 –ø–æ–±–µ–¥–∏–ª!")
                        elif (p2 == "2"):
                            print("–ò–≥—Ä–æ–∫ 1 –ø–æ–±–µ–¥–∏–ª!")
                    elif (p1 == "3"):
                        if (p2 == "1"):
                            print("–ò–≥—Ä–æ–∫ 1 –ø–æ–±–µ–¥–∏–ª!")
                        elif (p2 == "3"):
                            print("–ù–∏—á—å—è!")
                        elif (p2 == "2"):
                            print("–ò–≥—Ä–æ–∫ 2 –ø–æ–±–µ–¥–∏–ª!")
                    elif (p1 == "2"):
                        if (p2 == "1"):
                            print("–ò–≥—Ä–æ–∫ 2 –ø–æ–±–µ–¥–∏–ª!")
                        elif (p2 == "3"):
                            print("–ò–≥—Ä–æ–∫ 1 –ø–æ–±–µ–¥–∏–ª!")
                        elif (p2 == "2"):
                            print("–ù–∏—á—å—è!")
                    else:
                        print("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–≤–æ–¥. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")
    elif ch == "6":
        break
    else:
        print("–í—ã –≤–≤–µ–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ")
